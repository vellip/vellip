<div class="project-detail" #wrapper *ngIf="project$ | async as project">
  <div class="container">
    <app-shapes-wrapper [referenceNode]="wrapper.querySelector('#refNode')">
      <app-shape *ngIf="project.title.length > 15" [shape]="'circle'" [parallaxKey]="'transform: translate(0, %dpx)'" [speed]="-2"></app-shape>
      <app-shape *ngIf="project.title.length > 5" [shape]="'triangle'" [parallaxKey]="'transform: translate(0, %dpx)'" [speed]="2"></app-shape>
      <app-shape [shape]="'rectangle'" [parallaxKey]="'transform: translate(%dpx, 0)'" [speed]="-2"></app-shape>
    </app-shapes-wrapper>
    <app-intro id="refNode" [title]="project.title" [hasMargin]="false" class="project-detail__head"></app-intro>
  </div>
  <div class="container container--body">
    <div class="row">
      <div class="col-sm-6">
        <p class="project-detail__intro">{{project.intro}}</p>
      </div>
      <div class="col-sm-6">
        <app-fact-list [facts]="project.facts"></app-fact-list>
      </div>
    </div>
  </div>
  
  <div class="container">
    <app-project-images [images]="project.gallery"></app-project-images>
  </div>

  <div class="container container--copy project-detail__body">
    <ng-container *ngFor="let component of project.body">
      <div [innerHTML]="component.toHtml()"></div>
    </ng-container>
  </div>
</div>
